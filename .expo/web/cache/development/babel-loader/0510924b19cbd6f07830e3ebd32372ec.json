{"ast":null,"code":"import { Asset } from \"./Asset\";\nimport { IS_ENV_WITH_UPDATES_ENABLED } from \"./PlatformUtils\";\nimport { setCustomSourceTransformer } from \"./resolveAssetSource\";\nif (IS_ENV_WITH_UPDATES_ENABLED) {\n  setCustomSourceTransformer(function (resolver) {\n    try {\n      if (resolver.asset.fileHashes) {\n        var asset = Asset.fromMetadata(resolver.asset);\n        return resolver.fromSource(asset.downloaded ? asset.localUri : asset.uri);\n      } else {\n        return resolver.defaultAsset();\n      }\n    } catch (_unused) {\n      return resolver.defaultAsset();\n    }\n  });\n}","map":{"version":3,"sources":["../src/Asset.fx.ts"],"names":[],"mappings":"AAAA,SAAS,KAAK;AACd,SAAS,2BAA2B;AACpC,SAAS,0BAA0B;AAGnC,IAAI,2BAA2B,EAAE;EAC/B,0BAA0B,CAAC,UAAC,QAAQ,EAAI;IACtC,IAAI;MAEF,IAAI,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE;QAC7B,IAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC;QAChD,OAAO,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,QAAS,GAAG,KAAK,CAAC,GAAG,CAAC;OAC3E,MAAM;QACL,OAAO,QAAQ,CAAC,YAAY,EAAE;MAC/B;KACF,CAAC,gBAAM;MACN,OAAO,QAAQ,CAAC,YAAY,EAAE;IAC/B;EACH,CAAC,CAAC;AACH","sourcesContent":["import { Asset } from './Asset';\nimport { IS_ENV_WITH_UPDATES_ENABLED } from './PlatformUtils';\nimport { setCustomSourceTransformer } from './resolveAssetSource';\n\n// Override React Native's asset resolution for `Image` components in contexts where it matters\nif (IS_ENV_WITH_UPDATES_ENABLED) {\n  setCustomSourceTransformer((resolver) => {\n    try {\n      // Bundler is using the hashAssetFiles plugin if and only if the fileHashes property exists\n      if (resolver.asset.fileHashes) {\n        const asset = Asset.fromMetadata(resolver.asset);\n        return resolver.fromSource(asset.downloaded ? asset.localUri! : asset.uri);\n      } else {\n        return resolver.defaultAsset();\n      }\n    } catch {\n      return resolver.defaultAsset();\n    }\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}